<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="../../../styles/global.css" />
    <link rel="stylesheet" href="style.css" />
    <title>CHECK UP</title>
  </head>
  <body>
    <section class="checkup-p section container">
      <div class="breadcrumbs">
        <a href="#">
          <span>Главная</span>
        </a>
        <a href="#">
          <span>CHECK UP</span>
        </a>
      </div>
      <h1 class="checkup-p__title animation-title title">Для мужчин</h1>
      <div class="services-wrapper">
        <div class="services-g-tabs">
          <div class="services-g-tab">
            <p>Мужской Базовый</p>
            <p>279 220 тенге</p>
          </div>
          <div class="services-g-tab">
            <p>Мужской Базовый</p>
            <p>279 220 тенге</p>
          </div>
          <div class="services-g-tab">
            <p>Мужской Базовый</p>
            <p>279 220 тенге</p>
          </div>
          <div class="services-g-tab">
            <p>Мужской Базовый</p>
            <p>279 220 тенге</p>
          </div>
        </div>
        <div class="services-container"></div>
      </div>
    </section>
    <script>
      const people = "male";

      const maleData = [
        {
          title: "Мужской Базовый",
          price: "279 220",
          servicesGroup: [
            {
              title: "Консультация специалистов",
              services: [
                {
                  id: 1,
                  title: "Первичная консультация врача куратора",
                  price: "8000",
                },
                {
                  id: 2,
                  title: "Повторная консультация врача куратора (заключение)",
                  price: "12 000",
                },
                {
                  id: 3,
                  title: "Первичная консультация офтальмолога",
                  price: "9000",
                },
                {
                  id: 4,
                  title: "Сопровождение менеджера",
                  price: "6000",
                },
              ],
            },
            {
              title: "Лабораторные исследования",
              services: [
                {
                  id: 1,
                  title: "Общий анализ крови (34 параметра) + забор ",
                  price: "2600",
                },
                {
                  id: 2,
                  title: "Коагулограмма",
                  price: "4000",
                },
                {
                  id: 3,
                  title:
                    "K (калий) (Определение калия (K) в сыворотке крови на анализаторе)",
                  price: "1380",
                },
                {
                  id: 4,
                  title:
                    "Na (натрий) (Определение натрия (Na) в сыворотке крови на анализаторе)",
                  price: "1380",
                },
                {
                  id: 5,
                  title: "Са+ (кальций ионизированный)",
                  price: "2380",
                },
              ],
            },
            {
              title: "Инструментальные исследования",
              services: [
                {
                  id: 1,
                  title: "Общий анализ крови (34 параметра) + забор ",
                  price: "2600",
                },
                {
                  id: 2,
                  title: "Коагулограмма",
                  price: "4000",
                },
                {
                  id: 3,
                  title:
                    "K (калий) (Определение калия (K) в сыворотке крови на анализаторе)",
                  price: "1380",
                },
                {
                  id: 4,
                  title:
                    "Na (натрий) (Определение натрия (Na) в сыворотке крови на анализаторе)",
                  price: "1380",
                },
                {
                  id: 5,
                  title: "Са+ (кальций ионизированный)",
                  price: "2380",
                },
              ],
            },
          ],
        },
        {
          title: "Мужской ОНКО",
          price: "314 000",
          servicesGroup: [
            {
              title: "Консультация специалистов ОНКО",
              services: [
                {
                  id: 1,
                  title: "Первичная консультация врача куратора",
                  price: "8000",
                },
                {
                  id: 2,
                  title: "Повторная консультация врача куратора (заключение)",
                  price: "12 000",
                },
                {
                  id: 3,
                  title: "Первичная консультация офтальмолога",
                  price: "9000",
                },
                {
                  id: 4,
                  title: "Сопровождение менеджера",
                  price: "6000",
                },
              ],
            },
            {
              title: "Лабораторные исследования ОНКО",
              services: [
                {
                  id: 1,
                  title: "Общий анализ крови (34 параметра) + забор ",
                  price: "2600",
                },
                {
                  id: 2,
                  title: "Коагулограмма",
                  price: "4000",
                },
                {
                  id: 3,
                  title:
                    "K (калий) (Определение калия (K) в сыворотке крови на анализаторе)",
                  price: "1380",
                },
                {
                  id: 4,
                  title:
                    "Na (натрий) (Определение натрия (Na) в сыворотке крови на анализаторе)",
                  price: "1380",
                },
                {
                  id: 5,
                  title: "Са+ (кальций ионизированный)",
                  price: "2380",
                },
              ],
            },
            {
              title: "Инструментальные исследования ОНКО",
              services: [
                {
                  id: 1,
                  title: "Общий анализ крови (34 параметра) + забор ",
                  price: "2600",
                },
                {
                  id: 2,
                  title: "Коагулограмма",
                  price: "4000",
                },
                {
                  id: 3,
                  title:
                    "K (калий) (Определение калия (K) в сыворотке крови на анализаторе)",
                  price: "1380",
                },
                {
                  id: 4,
                  title:
                    "Na (натрий) (Определение натрия (Na) в сыворотке крови на анализаторе)",
                  price: "1380",
                },
                {
                  id: 5,
                  title: "Са+ (кальций ионизированный)",
                  price: "2380",
                },
              ],
            },
          ],
        },
        {
          title: "Сердце",
          price: "139 220",
          servicesGroup: [
            {
              title: "Консультация специалистов Сердце",
              services: [
                {
                  id: 1,
                  title: "Первичная консультация врача куратора",
                  price: "8000",
                },
                {
                  id: 2,
                  title: "Повторная консультация врача куратора (заключение)",
                  price: "12 000",
                },
                {
                  id: 3,
                  title: "Первичная консультация офтальмолога",
                  price: "9000",
                },
                {
                  id: 4,
                  title: "Сопровождение менеджера",
                  price: "6000",
                },
              ],
            },
            {
              title: "Лабораторные исследования Сердце",
              services: [
                {
                  id: 1,
                  title: "Общий анализ крови (34 параметра) + забор ",
                  price: "2600",
                },
                {
                  id: 2,
                  title: "Коагулограмма",
                  price: "4000",
                },
                {
                  id: 3,
                  title:
                    "K (калий) (Определение калия (K) в сыворотке крови на анализаторе)",
                  price: "1380",
                },
                {
                  id: 4,
                  title:
                    "Na (натрий) (Определение натрия (Na) в сыворотке крови на анализаторе)",
                  price: "1380",
                },
                {
                  id: 5,
                  title: "Са+ (кальций ионизированный)",
                  price: "2380",
                },
              ],
            },
            {
              title: "Инструментальные исследования Сердце",
              services: [
                {
                  id: 1,
                  title: "Общий анализ крови (34 параметра) + забор ",
                  price: "2600",
                },
                {
                  id: 2,
                  title: "Коагулограмма",
                  price: "4000",
                },
                {
                  id: 3,
                  title:
                    "K (калий) (Определение калия (K) в сыворотке крови на анализаторе)",
                  price: "1380",
                },
                {
                  id: 4,
                  title:
                    "Na (натрий) (Определение натрия (Na) в сыворотке крови на анализаторе)",
                  price: "1380",
                },
                {
                  id: 5,
                  title: "Са+ (кальций ионизированный)",
                  price: "2380",
                },
              ],
            },
          ],
        },
        {
          title: "Предоперационное обследование",
          price: "250 000",
          servicesGroup: [
            {
              title: "Консультация специалистов Предоперационное обследование",
              services: [
                {
                  id: 1,
                  title: "Первичная консультация врача куратора",
                  price: "8000",
                },
                {
                  id: 2,
                  title: "Повторная консультация врача куратора (заключение)",
                  price: "12 000",
                },
                {
                  id: 3,
                  title: "Первичная консультация офтальмолога",
                  price: "9000",
                },
                {
                  id: 4,
                  title: "Сопровождение менеджера",
                  price: "6000",
                },
              ],
            },
            {
              title: "Лабораторные исследования Предоперационное обследование",
              services: [
                {
                  id: 1,
                  title: "Общий анализ крови (34 параметра) + забор ",
                  price: "2600",
                },
                {
                  id: 2,
                  title: "Коагулограмма",
                  price: "4000",
                },
                {
                  id: 3,
                  title:
                    "K (калий) (Определение калия (K) в сыворотке крови на анализаторе)",
                  price: "1380",
                },
                {
                  id: 4,
                  title:
                    "Na (натрий) (Определение натрия (Na) в сыворотке крови на анализаторе)",
                  price: "1380",
                },
                {
                  id: 5,
                  title: "Са+ (кальций ионизированный)",
                  price: "2380",
                },
              ],
            },
          ],
        },
      ];

      const servicesGTabs = document.querySelector(".services-g-tabs");

      servicesGTabs.innerHTML = "";

      maleData.forEach((item, index) => {
        if (index === 0) {
          servicesGTabs.innerHTML += `
				<div class="services-g-tab active">
				  <p>${item.title}</p>
				  <p>${item.price} тенге</p>
				</div>
				`;
        } else {
          servicesGTabs.innerHTML += `
				<div class="services-g-tab">
				  <p>${item.title}</p>
				  <p>${item.price} тенге</p>
				</div>
				`;
        }
      });

      let activeTab = "Мужской Базовый";

      const servicesContainer = document.querySelector(".services-container");

      const servicesGTab = document.querySelectorAll(".services-g-tab");

      servicesGTab.forEach((elem, index) => {
        elem.addEventListener("click", () => {
          servicesGTab.forEach((item, i) => {
            item.classList.remove("active");
          });
          elem.classList.add("active");
          activeTab = elem.children[0].textContent;

          fillServicesContainer();

          closeOpen();
        });
      });

      function fillServicesContainer() {
        servicesContainer.innerHTML = "";

        maleData.forEach((item, i) => {
          if (item.title === activeTab) {
            console.log("item.title", item.title, activeTab);
            item.servicesGroup.forEach((serviceGroup, index) => {
              servicesContainer.innerHTML += `
					  <div class="service-group">
						<div class="service-group-title">
						  <div class="service-group-title-left">
							 <p>0${index + 1}.</p>
							 <p>${serviceGroup.title}</p>
						  </div>
						  <svg
							 class="close-open"
							 width="24"
							 height="25"
							 viewBox="0 0 24 25"
							 fill="none"
							 xmlns="http://www.w3.org/2000/svg"
						  >
							 <circle
								cx="12"
								cy="12.9706"
								r="9"
								transform="rotate(-90 12 12.9706)"
								stroke="#27AE79"
							 />
							 <path
								d="M15 12.9706L9 12.9706"
								stroke="#27AE79"
								stroke-linecap="square"
							 />
							 <path
								d="M12 9.97058L12 15.9706"
								stroke="#27AE79"
								stroke-linecap="square"
							 />
						  </svg>
						</div>
						<div class="service-group-list">
							${serviceGroup.services
                .map(
                  (service, j) =>
                    `<div class="service-item">
								  <div class="service-item-left">
									 <p>${service.id}</p>
									 <p>${service.title}</p>
								  </div>
								  <h3>${service.price} kzt</h3>
								</div>`
                )
                .join("")}
						</div>
					 </div>
					  `;
            });
          }
        });

        servicesContainer.innerHTML += `
		 <div class="yellow-button">
				 Отправить запрос
				 <svg
					width="24"
					height="25"
					viewBox="0 0 24 25"
					fill="none"
					xmlns="http://www.w3.org/2000/svg"
				 >
					<path
					  d="M18 12.5L18.3536 12.1464L18.7071 12.5L18.3536 12.8536L18 12.5ZM6 13C5.72386 13 5.5 12.7761 5.5 12.5C5.5 12.2239 5.72386 12 6 12V13ZM14.3536 8.14645L18.3536 12.1464L17.6464 12.8536L13.6464 8.85355L14.3536 8.14645ZM18.3536 12.8536L14.3536 16.8536L13.6464 16.1464L17.6464 12.1464L18.3536 12.8536ZM18 13H6V12H18V13Z"
					  fill="#262626"
					/>
				 </svg>
			  </div>
		 `;
      }

      fillServicesContainer();

      function closeOpen() {
        const closeOpen = document.querySelectorAll(".close-open");
        const serviceGroup = document.querySelectorAll(".service-group");
        const serviceGroupLists = document.querySelectorAll(
          ".service-group-list"
        );
        serviceGroup.forEach((elem, index) => {
          elem.addEventListener("click", () => {
            serviceGroupLists[index].classList.toggle("visible");
            closeOpen[index].classList.toggle("rotate");
          });
        });
      }

      closeOpen();
    </script>
  </body>
</html>
